<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Moving to CalyxOS from iPhone/iOS | K&#39;s blog</title>
<meta name="keywords" content="">
<meta name="description" content="Reasons for moving I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.
I wanted to move to a privacy friendly OS.">
<meta name="author" content="Karthik">
<link rel="canonical" href="https://vakarthik.com/posts/2021/moving-to-calyxos-iphone/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://vakarthik.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://vakarthik.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://vakarthik.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://vakarthik.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://vakarthik.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Moving to CalyxOS from iPhone/iOS" />
<meta property="og:description" content="Reasons for moving I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.
I wanted to move to a privacy friendly OS." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vakarthik.com/posts/2021/moving-to-calyxos-iphone/" />
<meta property="og:image" content="https://vakarthik.com/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-22T00:00:00+00:00" />
<meta property="og:see_also" content="https://vakarthik.com/posts/2021/homelab-2021/" /><meta property="og:see_also" content="https://vakarthik.com/posts/2021/compiling-and-building-caddy/" /><meta property="og:see_also" content="https://vakarthik.com/posts/2019/homelab-2019/" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://vakarthik.com/papermod-cover.png" />
<meta name="twitter:title" content="Moving to CalyxOS from iPhone/iOS"/>
<meta name="twitter:description" content="Reasons for moving I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.
I wanted to move to a privacy friendly OS."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://vakarthik.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Moving to CalyxOS from iPhone/iOS",
      "item": "https://vakarthik.com/posts/2021/moving-to-calyxos-iphone/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Moving to CalyxOS from iPhone/iOS",
  "name": "Moving to CalyxOS from iPhone\/iOS",
  "description": "Reasons for moving I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.\nI wanted to move to a privacy friendly OS.",
  "keywords": [
    
  ],
  "articleBody": "Reasons for moving I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.\nI wanted to move to a privacy friendly OS. I have switched from Windows to Linux completely (both laptop and desktop) and using it as a daily driver for the past one year. In iOS there is a little you could do to customise settings, and you just have to trust apple with everything. I really like the concept of having controls in our hands. Fine grain controls are possible with android and its apps, but I do not want to leave one big tech and join another. It wouldnâ€™t help the motive for my switch.\nI looked at pinephone, and its availabilty in India is a big question. So with not much of an option left, i was looking for custom ROMs in xda forum and other places.\n(for those of you intrested in privacy, check the techlore and intel techniques )\nHopping on to CalyxOS I somehow stumbled upon grapheneos and calyxos. I did some research ( video-1 video-2 ) and finally settled with calyxos. One main reason is usability of some google apps in calyxos over graphene. Also i do not want to jump into privacy express, but take some baby steps to see where it leads.\nI bought a new Pixel 4a from flipkart during offers. It costs around 25k plus I got google nest for free. So i powered my pixel, just skipped all setup steps wherever possible and cliked on build number few to become developer, and then my heart burst when i saw â€˜OEM unlocking ' option grayed out. After a quick google search, i did a factory reset which enabled the â€˜OEM unlockingâ€™ option. Then you follow standard installation procedure detailed in calyx website. Just few simple steps.\nEsim migration woes There are plenty of tutorials when you search in google for esim migration. But still I took more than 2 attempts to correct a simple mistake I made. I even went on to read official manual from gsm, which was meant for telecom operators.\nStep 1. From old mobile send the following SMS to 199. You will receive a 19 digit eSIM number 32 digit activation code. GETESIM Step 2. Send the following SMS from old mobile to 199 SIMCHG Sleep (2) hrs Step 3. Confirm by sending SMS '1' to 183 Step 4. Enter the 19 digit eSIM code during Activation call Step 5. Add mobile data plan in your phone, and enter the activation code manually in the following format. LPA:1$smdprd.jio.com$Activationcode (note: only for jio, other operators, check the respective website) Now your eSIM will get activated successfully. All the tutorials out there are just copy paste from someone and none of them clearly mention you should send EID of new phone (although itâ€™s kind of obvious, i did mistake twice). Also note as per GSM manual the activation code need not be exactly 32 characters. There are different formats.\nSetting up as a daily driver This is my primary phone and I set it up so that it is more usable and as private as possible.\nCamera Download the GCam app from xda forum. It is much better than default camera and other camera apps.\nMicrog, Aurora store and google account I tried using microg without a google account at first. But since Aurora Store uses a random gmail to login, and the gmail account is created in a different country, some specific apps to India are not listed in store.\nI quickly created a throwaway gmail address with false details and using it for this purpose. I would also advise you to do the same since many apps related banking wonâ€™t be available on F-Droid.\nVPN Tried two to three different VPN and settled with Windscribe (referral link). Got this in Black Friday offer, $30 per year pro account. It had three servers in India with good speeds. The server in Chennai seems to be down since 10 days. I am using Pune or Mumbai. I do not use VPN for work profile. The email provider has Geo restrictions in place. Whenever the VPN chooses some other country, and email client checks mail using IMAP, bam i get a blocked notification from email provider. So better I use Work profile without VPN and turn it off after work.\nUsable apps Some apps which I find very useful, apart from default, popular and well known apps. (some are in f-driod and some are in play store)\nAntennapod - Podcasts\nBackdrops - Wallpapers\nBromite - Browser FeedMe - Feed Reader\nGenius Scan - Scanner App\nInfinity - Reddit Client\nQKSMS - SMS\nOpenWeather - Weather\nSimplelogin - Email Alias (I have a pro account grabbed during BF)\nObsidian - Notes\nSyncthing - Sync (for camera and notes folder sync)\nTermux - Terminal emulator\nI have linked an article containing some very useful apps in f-droid store.\nApps working and not working The only app which i used in iPhone and not working in calyxos is Google pay. Apart from that i use Yono SBI, BHIM, Kite and all other apps work well so far without any issues (3 months as of this writing).\nI really hate that google has put phone number in first and UPI ID as second. I mean many of my friends have no idea of their UPI ID. They just say Gpay me. ðŸ˜ž\nOther than this i really miss Android Auto.\nApps i wish i have not installed Google does some things so well, for which there is no real replacement. One example is Google Maps. Although Apple Maps is catching up fast, it has a long way to go in India. It is true for all other open source map apps out there. If you are in India, just install google maps. No alternatives as of now.\nAnd since my work requires whatsapp and google meet, i have installed both of them. I wanted to get rid of whatsapp badly, but work updates are done in whatsapp groups. ðŸ˜‘\nConclusion Overall I am happy with the switch. Now I can control which apps will go through VPN and which apps will not even have Internet access, using built-in Datura firewall, which was out of scope in iOS. Not to mention calyx is pretty stable on pixel devices.\nHope there is some useful information for you above. I hope one day i will clear all my digital tracks and use OS like graphene as a daily driver. ðŸ˜ƒ\n",
  "wordCount" : "1156",
  "inLanguage": "en",
  "image": "https://vakarthik.com/papermod-cover.png","datePublished": "2021-12-22T00:00:00Z",
  "dateModified": "2021-12-22T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Karthik"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://vakarthik.com/posts/2021/moving-to-calyxos-iphone/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "K's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://vakarthik.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://vakarthik.com" accesskey="h" title="K&#39;s blog (Alt + H)">K&#39;s blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://vakarthik.com/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/photos/" title="Photos">
                    <span>Photos</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/index.xml" title="Feed">
                    <span>Feed</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Moving to CalyxOS from iPhone/iOS
    </h1>
    <div class="post-meta"><span title='2021-12-22 00:00:00 +0000 UTC'>December 22, 2021</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;Karthik

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#reasons-for-moving" aria-label="Reasons for moving">Reasons for moving</a></li>
                <li>
                    <a href="#hopping-on-to-calyxos" aria-label="Hopping on to CalyxOS">Hopping on to CalyxOS</a></li>
                <li>
                    <a href="#esim-migration-woes" aria-label="Esim migration woes">Esim migration woes</a></li>
                <li>
                    <a href="#setting-up-as-a-daily-driver" aria-label="Setting up as a daily driver">Setting up as a daily driver</a><ul>
                        
                <li>
                    <a href="#camera" aria-label="Camera">Camera</a></li>
                <li>
                    <a href="#microg-aurora-store-and-google-account" aria-label="Microg, Aurora store and google account">Microg, Aurora store and google account</a></li>
                <li>
                    <a href="#vpn" aria-label="VPN">VPN</a></li>
                <li>
                    <a href="#usable-apps" aria-label="Usable apps">Usable apps</a></li>
                <li>
                    <a href="#apps-working-and-not-working" aria-label="Apps working and not working">Apps working and not working</a></li>
                <li>
                    <a href="#apps-i-wish-i-have-not-installed" aria-label="Apps i wish i have not installed">Apps i wish i have not installed</a></li></ul>
                </li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p><img loading="lazy" src="https://res.cloudinary.com/vakarthik/image/upload/c_scale,w_450/v1640191839/Screenshot_20211222-221236_try8db.png" alt=""  title="CalyxOS"  />
</p>
<h3 id="reasons-for-moving">Reasons for moving<a hidden class="anchor" aria-hidden="true" href="#reasons-for-moving">#</a></h3>
<p>I have been using iPhone for more than 5 years. It started from iPhone 4, 5s, 7, XR etc., iOS is solid and over last few years android has really caught up (not referring UI but stability and usability). Also over the last few years there have been multiple occasions were big tech use our data more and more for personalised ads.</p>
<p>I wanted to move to a privacy friendly OS. I have switched from Windows to Linux completely (both laptop and desktop) and using it as a daily driver for the past one year. In iOS there is a little you could do to customise settings, and you just have to trust apple with everything. I really like the concept of having controls in our hands. Fine grain controls are possible with android and its apps, but I do not want to leave one big tech and join another. It wouldn&rsquo;t help the motive for my switch.</p>
<p>I looked at pinephone, and its availabilty in India is a big question. So with not much of an option left, i was looking for custom ROMs in xda forum and other places.</p>
<p>(for those of you intrested in privacy, check the <a href="https://techlore.tech/">techlore</a> and <a href="https://inteltechniques.com/blog/">intel techniques</a> )</p>
<h3 id="hopping-on-to-calyxos">Hopping on to CalyxOS<a hidden class="anchor" aria-hidden="true" href="#hopping-on-to-calyxos">#</a></h3>
<p>I somehow stumbled upon <a href="https://grapheneos.org/">grapheneos</a> and <a href="https://calyxos.org/">calyxos</a>. I did some research ( <a href="https://nerdschalk.com/how-to-fix-oem-unlock-greyed-out-or-oem-unlock-disabled-problem/">video-1</a> <a href="https://www.youtube.com/watch?v=qTtgzNGRAfA">video-2</a> ) and finally settled with calyxos. One main reason is usability of some google apps in calyxos over graphene. Also i do not want to jump into privacy express, but take some baby steps to see where it leads.</p>
<p>I bought a new Pixel 4a from flipkart during offers. It costs around 25k plus I got google nest for free. So i powered my pixel, just skipped all setup steps wherever possible and cliked on build number few to become developer, and then my heart burst when i saw &lsquo;OEM unlocking ' option grayed out. After a quick google search, i did a <a href="https://www.youtube.com/watch?v=heVNcdq2MKA">factory reset</a> which enabled the &lsquo;OEM unlocking&rsquo; option. Then you follow standard installation procedure detailed in calyx website. Just few simple steps.</p>
<h3 id="esim-migration-woes">Esim migration woes<a hidden class="anchor" aria-hidden="true" href="#esim-migration-woes">#</a></h3>
<p>There are plenty of tutorials when you search in google for esim migration. But still I took more than 2 attempts to correct a simple mistake I made. I even went on to read official manual from gsm, which was meant for telecom operators.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Step 1. From old mobile send the following SMS to 199. You will receive a 19 digit eSIM number 32 digit activation code.

GETESIM &lt;EID of new phone&gt; &lt;IMEI of new phone&gt;

Step 2. Send the following SMS from old mobile to 199

SIMCHG &lt;19 digit eSIM no. received after doing step 1&gt;

   Sleep (2) hrs

Step 3. Confirm by sending SMS &#39;1&#39; to 183

Step 4. Enter the 19 digit eSIM code during Activation call

Step 5. Add mobile data plan in your phone, and enter the activation code manually in the following format.

LPA:1$smdprd.jio.com$Activationcode

(note: only for jio, other operators, check the respective website)

Now your eSIM will get activated successfully.
</code></pre></div><p>All the <a href="https://gadgets.ndtv.com/how-to/features/jio-esim-how-to-activate-guide-steps-apple-iphone-samsung-galaxy-google-pixel-motorola-razr-5g-2520919">tutorials</a> out there are just copy paste from someone and none of them clearly mention you should send EID of new phone (although it&rsquo;s kind of obvious, i did mistake twice). Also note as per GSM manual the activation code need not be exactly 32 characters. There are different formats.</p>
<h3 id="setting-up-as-a-daily-driver">Setting up as a daily driver<a hidden class="anchor" aria-hidden="true" href="#setting-up-as-a-daily-driver">#</a></h3>
<p>This is my primary phone and I set it up so that it is more usable and as private as possible.</p>
<h4 id="camera">Camera<a hidden class="anchor" aria-hidden="true" href="#camera">#</a></h4>
<p>Download the GCam app from xda forum. It is much better than default camera and other camera apps.</p>
<h4 id="microg-aurora-store-and-google-account">Microg, Aurora store and google account<a hidden class="anchor" aria-hidden="true" href="#microg-aurora-store-and-google-account">#</a></h4>
<p>I tried using microg without a google account at first. But since Aurora Store uses a random gmail to login, and the gmail account is created in a different country, some specific apps to India are not listed in store.</p>
<p>I quickly created a throwaway gmail address with false details and using it for this purpose. I would also advise you to do the same since many apps related banking won&rsquo;t be available on F-Droid.</p>
<h4 id="vpn">VPN<a hidden class="anchor" aria-hidden="true" href="#vpn">#</a></h4>
<p>Tried two to three different VPN and settled with <a href="https://windscribe.com/yo/dbrkwi07">Windscribe</a> (referral link). Got this in Black Friday offer, $30 per year pro account.  It had three servers in India with good speeds. The server in Chennai seems to be down since 10 days. I am using Pune or Mumbai.
I do not use VPN for work profile. The email provider has Geo restrictions in place. Whenever the VPN chooses some other country, and email client checks mail using IMAP, bam i get a blocked notification from email provider. So better I use Work profile without VPN and turn it off after work.</p>
<h4 id="usable-apps">Usable apps<a hidden class="anchor" aria-hidden="true" href="#usable-apps">#</a></h4>
<p>Some apps which I find very useful, apart from default, popular and well known apps. (some are in f-driod and some are in play store)</p>
<p>Antennapod - Podcasts<br>
Backdrops - Wallpapers<br>
Bromite - Browser <br>
FeedMe - Feed Reader<br>
Genius Scan - Scanner App<br>
Infinity - Reddit Client<br>
QKSMS - SMS<br>
OpenWeather - Weather<br>
Simplelogin - Email Alias (I have a pro account grabbed during BF)<br>
Obsidian - Notes<br>
Syncthing - Sync (for camera and notes folder sync)<br>
Termux - Terminal emulator</p>
<p>I have <a href="https://alternativeto.net/list/28655/the-ultimate-f-droid-setup/">linked</a> an article containing some very useful apps in f-droid store.</p>
<h4 id="apps-working-and-not-working">Apps working and not working<a hidden class="anchor" aria-hidden="true" href="#apps-working-and-not-working">#</a></h4>
<p>The only app which i used in iPhone and not working in calyxos is Google pay. Apart from that i use Yono SBI, BHIM, Kite and all other apps work well so far without any issues (3 months as of this writing).</p>
<p>I really hate that google has put phone number in first and UPI ID as second. I mean many of my friends have no idea of their UPI ID. They just say Gpay me. ðŸ˜ž</p>
<p>Other than this i really miss Android Auto.</p>
<h4 id="apps-i-wish-i-have-not-installed">Apps i wish i have not installed<a hidden class="anchor" aria-hidden="true" href="#apps-i-wish-i-have-not-installed">#</a></h4>
<p>Google does some things so well, for which there is no real replacement. One example is Google Maps. Although Apple Maps is catching up fast, it has a long way to go in India. It is true for all other open source map apps out there. If you are in India, just install google maps. No alternatives as of now.</p>
<p>And since my work requires whatsapp and google meet, i have installed both of them. I wanted to get rid of whatsapp badly, but work updates are done in whatsapp groups. ðŸ˜‘</p>
<h3 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>Overall I am happy with the switch. Now I can control which apps will go through VPN and which apps will not even have Internet access, using built-in Datura firewall, which was out of scope in iOS. Not to mention calyx is pretty stable on pixel devices.</p>
<p>Hope there is some useful information for you above. I hope one day i will clear all my digital tracks and use OS like graphene as a daily driver. ðŸ˜ƒ</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="vakarthik/k-blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://vakarthik.com">K&#39;s blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
