<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Homelab Upgrade 2021 | K&#39;s blog</title>
<meta name="keywords" content="" />
<meta name="description" content="My homelab was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!
Hardware Upgrades Many say olx is a bad place and full of scammers.">
<meta name="author" content="Karthik">
<link rel="canonical" href="https://vakarthik.com/posts/2021/homelab-2021/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://vakarthik.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://vakarthik.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://vakarthik.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://vakarthik.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://vakarthik.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.82.1" />
<meta property="og:title" content="Homelab Upgrade 2021" />
<meta property="og:description" content="My homelab was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!
Hardware Upgrades Many say olx is a bad place and full of scammers." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vakarthik.com/posts/2021/homelab-2021/" /><meta property="og:image" content="https://vakarthik.com/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-20T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-06-20T00:00:00&#43;00:00" />
<meta property="og:see_also" content="https://vakarthik.com/posts/2021/moving-to-calyxos-iphone/" /><meta property="og:see_also" content="https://vakarthik.com/posts/2021/compiling-and-building-caddy/" /><meta property="og:see_also" content="https://vakarthik.com/posts/2019/homelab-2019/" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://vakarthik.com/papermod-cover.png"/>

<meta name="twitter:title" content="Homelab Upgrade 2021"/>
<meta name="twitter:description" content="My homelab was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!
Hardware Upgrades Many say olx is a bad place and full of scammers."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://vakarthik.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Homelab Upgrade 2021",
      "item": "https://vakarthik.com/posts/2021/homelab-2021/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Homelab Upgrade 2021",
  "name": "Homelab Upgrade 2021",
  "description": "My homelab was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!\nHardware Upgrades Many say olx is a bad place and full of scammers.",
  "keywords": [
    
  ],
  "articleBody": "My homelab was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!\nHardware Upgrades Many say olx is a bad place and full of scammers. But i never thought i would find good and genuine deals there, especially for servers. Back in september 2020, i came across a deal for Dell R520 server with dual hex-core processor and 128GB of memory for 35k! The deal was posted by IT manager of a small firm in bangalore, and seems they were upgrading. I got 2 Dell R520 with 64GB of RAM and dual hex-core processor for 65k! 64gigs is more than sufficient for me. Thanks to a friend in bangalore, i could get these servers and door deliver it to me free of cost üòâ\nThe server had fiber channel cards (seems they were using some SAN storage arrays), dual power supply, dual RJ45 network adapters and iDRAC v7 card. Such a sweet deal for the money. The one thing it did not have was HDD caddy. I was planning to put 5 x 2 TB HDD and make RAIDz2, so I had to shell out some extra money to buy these caddy.\nMy current homelab has the following hardware, juicing around 500W and consuming more than 200 units of electricity per month üòë I sold the small WD MyCloud EX2 NAS since i am having plenty of drive space in my R520 and proxmox has native zfs support.\nThe Rack I enquired massrack for a 17 to 22U server rack. They told they had a 17U 1000mm depth rack which would cost around 15k. I was not interested to spend it at that time since i had already spent a lot on servers, and decided to create a own rack since my uncle had a pretty laser cutting machine in his factory. The output was somewhat ok, but the main problem was i could not get it closed due to alignment issues and there is a slight mismatch with square holes on rails. I guess i would buy a proper server rack late this year.\n  const myWidget = cloudinary.galleryWidget({ \"cloudName\": \"vakarthik\", \"mediaAssets\": [{ \"publicId\": \"Homelab/PHOTO-2021-01-27-14-57-17\", \"mediaType\": \"image\" }, { \"publicId\": \"Homelab/PHOTO-2021-01-27-14-57-29\", \"mediaType\": \"image\" }, { \"publicId\": \"Homelab/IMG_4345\", \"mediaType\": \"image\" }], \"carouselLocation\": \"bottom\", \"carouselStyle\": \"indicators\", \"container\": \"#my-gallery\" }); myWidget.render();  High Availability (HA) Dilemma Setting up a 3 node proxmox cluster is pretty stright-forward and well documented. So i quickly set-up a 3 node proxmox cluster with my 2 new servers, and time to dig into HA.\nIntially i had set up my services in a VM and made it as highly available VM in proxmox. But there was delay since the VM disk has to be moved from one node to another during failover. Then i stumbled upon docker-swarm which seems to check all the requirements. But the nerds in reddit were advising to go with kubernetes instead of docker-swarm.\nI checked a few tutorials and blogs (mentioned in reference below) and decided to go with k3s, a lightweight version of k8s created by rancher labs.\nFirst i installed rancher-ui and tried to install apps through gui. It was very confusing and i prefer yaml like in docker-compose. So i deleted rancher installation and started creating apps from plain manifests. Somehow i didn‚Äôt like helm charts also. Creating a manifest from scratch allows me to customise everything, helm charts allow customisation but, i prefer plain manifests.\nKubernetes was very strange for about a month, and those manifest files looked alien to me at first. But after trying it out and deploying more apps, i realised k8s was the way to go! If one day i decide to sell my homelab hardware due to some reasons, i can still put my apps on cloud with same manifest files (small modifications might be required) in minimal time, as almost all cloud providers have support for k8s engine.\nNow you delete a pod in k3s, it instantly spins another one. A node turns off! no problem, all the services in the failed node are started on available nodes with minimum downtime. The main issue with proxmox HA VM was not the downtime, but the reliability of re-starting services in another node when one fails. Also i use longhorn for persistant storage, which uses free space in all nodes and aggregates them into usable space for persistant-volumes.\nDual WAN and pfSense I already have a 100 Mbps FTTH from cherrinet. Since it had downtime due to cable cut issues (not often but 3-4 times a month) i wanted a backup connection. Luckily BSNL was also providing FTTH in my area. So i decided to get it and set-up dual wan in pfsesne. I downgraded cherrinet plan to 50mbps and BSNL connection is 60mbps. After some tinkering i got the dual wan working in my pfsense. It was not easy as i expected üòè Here is how mine works. You can read more on CARP and dual WAN setup in netgate official docs, they have got detailed explanation.\nCurrent State This is my current state as of writing this blog post. I use nginx and metallb for ingress, longhorn for storage.\n Upgrades and ToDo There is always something to change and something to upgrade\nApps and Services Have to find out a way to archive all my mailboxes. Need to setup webtrees for family. And anything interesting from r/selfhosted\nBackups As of now i have not configured proper backups for persistant volumes. I am looking setting up minio or direct nfs backup to my zfs pool from inside longhorn. Also for my personal files need to automate my manual backup strategy and push important files to cloud.\nGigabit switch I had a dell powerconnect 16 port switch. The power supply (5V, 8A) on it failed and i purchased a after-market one from amazon, which worked fine for few months. At present it is not working. Need to upgrade to cisco/hp/dell 16-24 port all gigabit switch. Still looking in olx sometimes üòÑ\nUPS The 1kVA ups which i have is currently the only single point of failure üò®. Also the backup time is less than 30 minutes. Need to get one more 1kVA UPS and use my additional PSU in R520. Also looking at solar setup üòâ let us see\nRack Need to get proper server rack for enclosing the servers and make some arrangement to vent out the hot air from backside. Also need to put blanking panels to avoid hot and cold air mixing.\nDesktop Last one on the list, looking at AMD custom builds. This will take some time‚Ä¶\nReference Some sites, videos which i fould very useful during building my homelab. (ofcourse there is reddit for everything else)\nrpi4cluster\nJust me and Opensource- Youtube\nTechnotim - youtube\n",
  "wordCount" : "1181",
  "inLanguage": "en",
  "datePublished": "2021-06-20T00:00:00Z",
  "dateModified": "2021-06-20T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Karthik"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://vakarthik.com/posts/2021/homelab-2021/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "K's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://vakarthik.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://vakarthik.com" accesskey="h" title="K&#39;s blog (Alt + H)">K&#39;s blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://vakarthik.com/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/photos/" title="Photos">
                    <span>Photos</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://vakarthik.com/index.xml" title="Feed">
                    <span>Feed</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Homelab Upgrade 2021
    </h1>
    <div class="post-meta">June 20, 2021&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Karthik
</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#hardware-upgrades" aria-label="Hardware Upgrades">Hardware Upgrades</a></li>
                <li>
                    <a href="#the-rack" aria-label="The Rack">The Rack</a></li>
                <li>
                    <a href="#high-availability-ha-dilemma" aria-label="High Availability (HA) Dilemma">High Availability (HA) Dilemma</a></li>
                <li>
                    <a href="#dual-wan-and-pfsense" aria-label="Dual WAN and pfSense">Dual WAN and pfSense</a></li>
                <li>
                    <a href="#current-state" aria-label="Current State">Current State</a></li>
                <li>
                    <a href="#upgrades-and-todo" aria-label="Upgrades and ToDo">Upgrades and ToDo</a><ul>
                        <ul>
                        
                <li>
                    <a href="#apps-and-services" aria-label="Apps and Services">Apps and Services</a></li>
                <li>
                    <a href="#backups" aria-label="Backups">Backups</a></li>
                <li>
                    <a href="#gigabit-switch" aria-label="Gigabit switch">Gigabit switch</a></li>
                <li>
                    <a href="#ups" aria-label="UPS">UPS</a></li>
                <li>
                    <a href="#rack" aria-label="Rack">Rack</a></li>
                <li>
                    <a href="#desktop" aria-label="Desktop">Desktop</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#reference" aria-label="Reference">Reference</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>My <a href="https://vakarthik.com/posts/2019/homelab-2019/">homelab</a> was running on a single dell r210. It had pfsense and few VMs, all the self-hosted apps were deployed using docker. Things were running fine for more than a year but i was missing high-availability, since i had only one server. I wanted my services to be available always! To achieve high availability on proxmox you need 3 servers minimum. Thus the hunt for 2 more began!</p>
<h3 id="hardware-upgrades">Hardware Upgrades<a hidden class="anchor" aria-hidden="true" href="#hardware-upgrades">#</a></h3>
<p>Many say <a href="https://olx.in">olx</a> is a bad place and full of scammers. But i never thought i would find good and genuine deals there, especially for servers. Back in september 2020, i came across a deal for Dell R520 server with dual hex-core processor and 128GB of memory for 35k! The deal was posted by IT manager of a small firm in bangalore, and seems they were upgrading. I got 2 Dell R520 with 64GB of RAM and dual hex-core processor for 65k! 64gigs is more than sufficient for me. Thanks to a friend in bangalore, i could get these servers and door deliver it to me free of cost üòâ</p>
<p>The server had fiber channel cards (seems they were using some SAN storage arrays), dual power supply, dual RJ45 network adapters and iDRAC v7 card. Such a sweet deal for the money. The one thing it did not have was HDD caddy. I was planning to put 5 x 2 TB HDD and make RAIDz2, so I had to shell out some extra money to buy these caddy.</p>
<p>My current homelab has the following hardware, juicing around 500W and consuming more than 200 units of electricity per month üòë I sold the small WD MyCloud EX2 NAS since i am having plenty of drive space in my R520 and proxmox has native zfs support.</p>
<p><img loading="lazy" src="https://res.cloudinary.com/vakarthik/image/upload/v1624197795/Homelab/hardware-config-2021.jpg" alt=""  title="Homelab 2021 Hardware"  />
</p>
<h3 id="the-rack">The Rack<a hidden class="anchor" aria-hidden="true" href="#the-rack">#</a></h3>
<p>I enquired <a href="http://massrack.in/">massrack</a> for a 17 to 22U server rack. They told they had a 17U 1000mm depth rack which would cost around 15k. I was not interested to spend it at that time since i had already spent a lot on servers, and decided to create a own rack since my uncle had a pretty laser cutting machine in his factory. The output was somewhat ok, but the main problem was i could not get it closed due to alignment issues and there is a slight mismatch with square holes on rails. I guess i would buy a proper server rack late this year.</p>
<script src="https://product-gallery.cloudinary.com/all.js" type="text/javascript">
</script>  
<div id="my-gallery" style="max-width:95%;margin:auto">
</div>
<script type="text/javascript">
const myWidget = cloudinary.galleryWidget({
    "cloudName": "vakarthik",
    "mediaAssets": [{
        "publicId": "Homelab/PHOTO-2021-01-27-14-57-17",
        "mediaType": "image"
    }, {
        "publicId": "Homelab/PHOTO-2021-01-27-14-57-29",
        "mediaType": "image"
    }, {
        "publicId": "Homelab/IMG_4345",
        "mediaType": "image"
    }],
    "carouselLocation": "bottom",
    "carouselStyle": "indicators",
    "container": "#my-gallery"
});
myWidget.render();
</script>
<h3 id="high-availability-ha-dilemma">High Availability (HA) Dilemma<a hidden class="anchor" aria-hidden="true" href="#high-availability-ha-dilemma">#</a></h3>
<p>Setting up a 3 node proxmox cluster is pretty stright-forward and well documented. So i quickly set-up a 3 node proxmox cluster with my 2 new servers, and time to dig into HA.</p>
<p>Intially i had set up my services in a VM and made it as highly available VM in proxmox. But there was delay since the VM disk has to be moved from one node to another during failover. Then i stumbled upon docker-swarm which seems to check all the requirements. But the nerds in reddit were advising to go with kubernetes instead of docker-swarm.</p>
<p>I checked a few tutorials and blogs (mentioned in reference below) and decided to go with <a href="https://k3s.io/">k3s</a>, a lightweight version of k8s created by rancher labs.</p>
<p>First i installed rancher-ui and tried to install apps through gui. It was very confusing and i prefer <code>yaml</code> like in docker-compose. So i deleted rancher installation and started creating apps from plain manifests. Somehow i didn&rsquo;t like helm charts also. Creating a manifest from scratch allows me to customise everything, helm charts allow customisation but, i prefer plain manifests.</p>
<p>Kubernetes was very <a href="https://www.reddit.com/r/kubernetes/comments/nfbqag/kubernetes_isnt_that_hard_they_said_youll_have_no/">strange</a> for about a month, and those manifest files looked alien to me at first. But after trying it out and deploying more apps, i realised k8s was the way to go! If one day i decide to sell my homelab hardware due to some reasons, i can still put my apps on cloud with same manifest files (small  modifications might be required) in minimal time, as almost all cloud providers have support for k8s engine.</p>
<p>Now you delete a pod in k3s, it instantly spins another one. A node turns off! no problem, all the services in the failed node are started on available nodes with minimum downtime. The main issue with proxmox HA VM was not the downtime, but the reliability of re-starting services in another node when one fails. Also i use <a href="https://longhorn.io/">longhorn</a> for persistant storage, which uses free space in all nodes and aggregates them into usable space for persistant-volumes.</p>
<h3 id="dual-wan-and-pfsense">Dual WAN and pfSense<a hidden class="anchor" aria-hidden="true" href="#dual-wan-and-pfsense">#</a></h3>
<p>I already have a 100 Mbps FTTH from cherrinet. Since it had downtime due to cable cut issues (not often but 3-4 times a month) i wanted a backup connection. Luckily BSNL was also providing FTTH in my area. So i decided to get it and set-up dual wan in pfsesne. I downgraded cherrinet plan to 50mbps and BSNL connection is 60mbps. After some tinkering i got the dual wan working in my pfsense. It was not easy as i expected üòè Here is how mine works. You can read more on CARP and dual WAN setup in netgate official docs, they have got detailed explanation.</p>
<p><img loading="lazy" src="https://res.cloudinary.com/vakarthik/image/upload/v1624197795/Homelab/dual-wan-pfsense.jpg" alt=""  title="pfSense DUAL WAN Setup"  />
</p>
<h3 id="current-state">Current State<a hidden class="anchor" aria-hidden="true" href="#current-state">#</a></h3>
<p>This is my current state as of writing this blog post. I use nginx and metallb for ingress, longhorn for storage.</p>
<iframe style="border:none" width="800" height="450" src="https://whimsical.com/embed/UeNQJJbTV9wsoGacfVQy51"></iframe>
<h3 id="upgrades-and-todo">Upgrades and ToDo<a hidden class="anchor" aria-hidden="true" href="#upgrades-and-todo">#</a></h3>
<p>There is always something to change and something to upgrade</p>
<h5 id="apps-and-services">Apps and Services<a hidden class="anchor" aria-hidden="true" href="#apps-and-services">#</a></h5>
<p>Have to find out a way to archive all my mailboxes. Need to setup webtrees for family. And anything interesting from r/selfhosted</p>
<h5 id="backups">Backups<a hidden class="anchor" aria-hidden="true" href="#backups">#</a></h5>
<p>As of now i have not configured proper backups for persistant volumes. I am looking setting up minio or direct nfs backup to my zfs pool from inside longhorn. Also for my personal files need to automate my manual backup strategy and push important files to cloud.</p>
<h5 id="gigabit-switch">Gigabit switch<a hidden class="anchor" aria-hidden="true" href="#gigabit-switch">#</a></h5>
<p>I had a dell powerconnect 16 port switch. The power supply (5V, 8A) on it failed and i purchased a after-market one from amazon, which worked fine for few months. At present it is not working. Need to upgrade to cisco/hp/dell 16-24 port all gigabit switch. Still looking in olx sometimes üòÑ</p>
<h5 id="ups">UPS<a hidden class="anchor" aria-hidden="true" href="#ups">#</a></h5>
<p>The 1kVA ups which i have is currently the only single point of failure üò®. Also the backup time is less than 30 minutes. Need to get one more 1kVA UPS and use my additional PSU in R520. Also looking at solar setup üòâ let us see</p>
<h5 id="rack">Rack<a hidden class="anchor" aria-hidden="true" href="#rack">#</a></h5>
<p>Need to get proper server rack for enclosing the servers and make some arrangement to vent out the hot air from backside. Also need to put blanking panels to avoid hot and cold air mixing.</p>
<h5 id="desktop">Desktop<a hidden class="anchor" aria-hidden="true" href="#desktop">#</a></h5>
<p>Last one on the list, looking at AMD custom builds. This will take some time&hellip;</p>
<h3 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h3>
<p>Some sites, videos which i fould very useful during building my homelab. (ofcourse there is reddit for everything else)</p>
<p><a href="https://rpi4cluster.com/">rpi4cluster</a></p>
<p><a href="https://www.youtube.com/c/wenkatn-justmeandopensource/videos">Just me and Opensource- Youtube</a></p>
<p><a href="https://www.youtube.com/channel/UCOk-gHyjcWZNj3Br4oxwh0A">Technotim - youtube</a></p>

</div>
  <footer class="post-footer">
  </footer><script src="https://utteranc.es/client.js"
        repo="vakarthik/k-blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://vakarthik.com">K&#39;s blog</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
